(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[7695],{74943:function(e,t,r){"use strict";var n=r(17061).default,a=r(17156).default,s=r(56690).default,i=r(89728).default,o=r(61655).default,u=r(26389).default,c=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=void 0;var l=d(r(97143)),h=r(77344),p=r(29932),f=r(79562),v=r(41462),g=r(18054),m=r(52344),y=r(61444),b=r(72e3),w=r(17631),k=function(e){o(r,e);var t=u(r);function r(e){var i,o,u;s(this,r);var d=e.metadata,l=e.preference,p=l.keysUrl,b=c(l,["keysUrl"]);(i=t.call(this)).accounts=[],i.handlers={handshake:function(){var e=a(n().mark((function e(t){var r,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!i.connected){e.next=4;break}return i.emit("connect",{chainId:(0,v.hexStringFromIntNumber)((0,f.IntNumber)(i.chain.id))}),e.abrupt("return",i.accounts);case 4:return e.next=6,i.requestSignerSelection();case 6:return r=e.sent,a=i.initSigner(r),e.next=10,a.handshake();case 10:return s=e.sent,i.signer=a,(0,g.storeSignerType)(r),i.emit("connect",{chainId:(0,v.hexStringFromIntNumber)((0,f.IntNumber)(i.chain.id))}),e.abrupt("return",s);case 17:throw e.prev=17,e.t0=e.catch(0),i.handleUnauthorizedError(e.t0),e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}(),sign:function(){var e=a(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.connected&&i.signer){e.next=2;break}throw h.standardErrors.provider.unauthorized("Must call 'eth_requestAccounts' before other methods");case 2:return e.prev=2,e.next=5,i.signer.request(t);case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(2),i.handleUnauthorizedError(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),fetch:function(e){return(0,m.fetchRPCRequest)(e,i.chain)},state:function(e){var t=function(){if(i.connected)return i.accounts;throw h.standardErrors.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")};switch(e.method){case"eth_chainId":return(0,v.hexStringFromIntNumber)((0,f.IntNumber)(i.chain.id));case"net_version":return i.chain.id;case"eth_accounts":return t();case"eth_coinbase":return t()[0];default:return i.handlers.unsupported(e)}},deprecated:function(e){var t=e.method;throw h.standardErrors.rpc.methodNotSupported("Method ".concat(t," is deprecated."))},unsupported:function(e){var t=e.method;throw h.standardErrors.rpc.methodNotSupported("Method ".concat(t," is not supported."))}},i.isCoinbaseWallet=!0,i.updateListener={onAccountsUpdate:function(e){var t=e.accounts,r=e.source;(0,v.areAddressArraysEqual)(i.accounts,t)||(i.accounts=t,"storage"!==r&&i.emit("accountsChanged",i.accounts))},onChainUpdate:function(e){var t=e.chain,r=e.source;t.id===i.chain.id&&t.rpcUrl===i.chain.rpcUrl||(i.chain=t,"storage"!==r&&i.emit("chainChanged",(0,v.hexStringFromIntNumber)((0,f.IntNumber)(t.id))))}},i.metadata=d,i.preference=b,i.communicator=new y.Communicator(p),i.chain={id:null!==(u=null===(o=d.appChainIds)||void 0===o?void 0:o[0])&&void 0!==u?u:1};var w=(0,g.loadSignerType)();return i.signer=w?i.initSigner(w):null,i}return i(r,[{key:"connected",get:function(){return this.accounts.length>0}},{key:"request",value:function(){var e=a(n().mark((function e(t){var r,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a=(0,m.checkErrorForInvalidRequestArgs)(t))){e.next=4;break}throw a;case 4:return s=null!==(r=(0,b.determineMethodCategory)(t.method))&&void 0!==r?r:"fetch",e.abrupt("return",this.handlers[s](t));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject((0,p.serializeError)(e.t0,t.method)));case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleUnauthorizedError",value:function(e){e.code===h.standardErrorCodes.provider.unauthorized&&this.disconnect()}},{key:"enable",value:function(){var e=a(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),e.next=3,this.request({method:"eth_requestAccounts"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=a(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.accounts=[],this.chain={id:1},w.ScopedLocalStorage.clearAll(),this.emit("disconnect",h.standardErrors.provider.disconnected("User initiated disconnection"));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"requestSignerSelection",value:function(){return(0,g.fetchSignerType)({communicator:this.communicator,preference:this.preference,metadata:this.metadata})}},{key:"initSigner",value:function(e){return(0,g.createSigner)({signerType:e,metadata:this.metadata,communicator:this.communicator,updateListener:this.updateListener})}}]),r}(l.default);t.CoinbaseWalletProvider=k},60912:function(e,t,r){"use strict";var n=r(56690).default,a=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletSDK=void 0;var s=r(18624),i=r(74943),o=r(17631),u=r(97173),c=r(41462),d=r(52344),l=function(){function e(t){n(this,e),this.metadata={appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||(0,c.getFavicon)(),appChainIds:t.appChainIds||[]},this.storeLatestVersion()}return a(e,[{key:"makeWeb3Provider",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{options:"all"},r={metadata:this.metadata,preference:t};return null!==(e=(0,d.getCoinbaseInjectedProvider)(r))&&void 0!==e?e:new i.CoinbaseWalletProvider(r)}},{key:"getCoinbaseWalletLogo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:240;return(0,s.walletLogo)(e,t)}},{key:"storeLatestVersion",value:function(){new o.ScopedLocalStorage("CBWSDK").setItem("VERSION",u.LIB_VERSION)}}]),e}();t.CoinbaseWalletSDK=l},18624:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.walletLogo=void 0;t.walletLogo=function(e,t){var r;switch(e){case"standard":default:return r=t,"data:image/svg+xml,%3Csvg width='".concat(t,"' height='").concat(r,"' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E ");case"circle":return r=t,"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='".concat(t,"' height='").concat(r,"' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E");case"text":return r=(.1*t).toFixed(2),"data:image/svg+xml,%3Csvg width='".concat(t,"' height='").concat(r,"' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E");case"textWithLogo":return r=(.25*t).toFixed(2),"data:image/svg+xml,%3Csvg width='".concat(t,"' height='").concat(r,"' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E");case"textLight":return r=(.1*t).toFixed(2),"data:image/svg+xml,%3Csvg width='".concat(t,"' height='").concat(r,"' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E");case"textWithLogoLight":return r=(.25*t).toFixed(2),"data:image/svg+xml,%3Csvg width='".concat(t,"' height='").concat(r,"' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E")}}},61444:function(e,t,r){"use strict";var n=r(17061).default,a=r(17156).default,s=r(89728).default,i=r(56690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Communicator=void 0;var o=r(97173),u=r(59457),c=r(53530),d=r(77344),l=s((function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.CB_KEYS_URL;i(this,e),this.popup=null,this.listeners=new Map,this.postMessage=function(){var e=a(n().mark((function e(r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.waitForPopupLoaded();case 2:e.sent.postMessage(r,t.url.origin);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.postRequestAndWaitForResponse=function(){var e=a(n().mark((function e(r){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.onMessage((function(e){return e.requestId===r.id})),t.postMessage(r),e.next=4,a;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onMessage=function(){var e=a(n().mark((function e(r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var a=function n(a){if(a.origin===t.url.origin){var s=a.data;r(s)&&(e(s),window.removeEventListener("message",n),t.listeners.delete(n))}};window.addEventListener("message",a),t.listeners.set(a,{reject:n})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.disconnect=function(){(0,u.closePopup)(t.popup),t.popup=null,t.listeners.forEach((function(e,t){(0,e.reject)(d.standardErrors.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",t)})),t.listeners.clear()},this.waitForPopupLoaded=a(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.popup||t.popup.closed){e.next=3;break}return t.popup.focus(),e.abrupt("return",t.popup);case 3:return t.popup=(0,u.openPopup)(t.url),t.onMessage((function(e){return"PopupUnload"===e.event})).then(t.disconnect).catch((function(){})),e.abrupt("return",t.onMessage((function(e){return"PopupLoaded"===e.event})).then((function(e){t.postMessage({requestId:e.id,data:{version:o.LIB_VERSION}})})).then((function(){if(!t.popup)throw d.standardErrors.rpc.internal();return t.popup})));case 6:case"end":return e.stop()}}),e)}))),this.url=new URL(r)}));t.Communicator=l},59457:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closePopup=t.openPopup=void 0;var n=r(77344);t.openPopup=function(e){var t=(window.innerWidth-420)/2+window.screenX,r=(window.innerHeight-540)/2+window.screenY,a=window.open(e,"Smart Wallet","width=".concat(420,", height=").concat(540,", left=").concat(t,", top=").concat(r));if(null===a||void 0===a||a.focus(),!a)throw n.standardErrors.rpc.internal("Pop up window failed to open");return a},t.closePopup=function(e){e&&!e.closed&&e.close()}},53530:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CBW_MOBILE_DEEPLINK_URL=t.WALLETLINK_URL=t.CB_KEYS_URL=void 0,t.CB_KEYS_URL="https://keys.coinbase.com/connect",t.WALLETLINK_URL="https://www.walletlink.org",t.CBW_MOBILE_DEEPLINK_URL="https://go.cb-w.com/walletlink"},43667:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.standardErrorCodes=void 0,t.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}}},41684:function(e,t,r){"use strict";var n=r(89728).default,a=r(56690).default,s=r(61655).default,i=r(26389).default,o=r(33496).default,u=r(27424).default;Object.defineProperty(t,"__esModule",{value:!0}),t.standardErrors=void 0;var c=r(43667),d=r(90701);function l(e,t){var r=p(t),n=u(r,2),a=n[0],s=n[1];return new f(e,a||(0,d.getMessageFromCode)(e),s)}function h(e,t){var r=p(t),n=u(r,2),a=n[0],s=n[1];return new v(e,a||(0,d.getMessageFromCode)(e),s)}function p(e){if(e){if("string"===typeof e)return[e];if("object"===typeof e&&!Array.isArray(e)){var t=e.message,r=e.data;if(t&&"string"!==typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}t.standardErrors={rpc:{parse:function(e){return l(c.standardErrorCodes.rpc.parse,e)},invalidRequest:function(e){return l(c.standardErrorCodes.rpc.invalidRequest,e)},invalidParams:function(e){return l(c.standardErrorCodes.rpc.invalidParams,e)},methodNotFound:function(e){return l(c.standardErrorCodes.rpc.methodNotFound,e)},internal:function(e){return l(c.standardErrorCodes.rpc.internal,e)},server:function(e){if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");var t=e.code;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return l(t,e)},invalidInput:function(e){return l(c.standardErrorCodes.rpc.invalidInput,e)},resourceNotFound:function(e){return l(c.standardErrorCodes.rpc.resourceNotFound,e)},resourceUnavailable:function(e){return l(c.standardErrorCodes.rpc.resourceUnavailable,e)},transactionRejected:function(e){return l(c.standardErrorCodes.rpc.transactionRejected,e)},methodNotSupported:function(e){return l(c.standardErrorCodes.rpc.methodNotSupported,e)},limitExceeded:function(e){return l(c.standardErrorCodes.rpc.limitExceeded,e)}},provider:{userRejectedRequest:function(e){return h(c.standardErrorCodes.provider.userRejectedRequest,e)},unauthorized:function(e){return h(c.standardErrorCodes.provider.unauthorized,e)},unsupportedMethod:function(e){return h(c.standardErrorCodes.provider.unsupportedMethod,e)},disconnected:function(e){return h(c.standardErrorCodes.provider.disconnected,e)},chainDisconnected:function(e){return h(c.standardErrorCodes.provider.chainDisconnected,e)},unsupportedChain:function(e){return h(c.standardErrorCodes.provider.unsupportedChain,e)},custom:function(e){if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");var t=e.code,r=e.message,n=e.data;if(!r||"string"!==typeof r)throw new Error('"message" must be a nonempty string');return new v(t,r,n)}}};var f=function(e){s(r,e);var t=i(r);function r(e,n,s){var i;if(a(this,r),!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||"string"!==typeof n)throw new Error('"message" must be a nonempty string.');return(i=t.call(this,n)).code=e,void 0!==s&&(i.data=s),i}return n(r)}(o(Error)),v=function(e){s(r,e);var t=i(r);function r(e,n,s){if(a(this,r),!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');return t.call(this,e,n,s)}return n(r)}(f)},77344:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.standardErrors=t.standardErrorCodes=void 0;var n=r(43667);Object.defineProperty(t,"standardErrorCodes",{enumerable:!0,get:function(){return n.standardErrorCodes}});var a=r(41684);Object.defineProperty(t,"standardErrors",{enumerable:!0,get:function(){return a.standardErrors}})},29932:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=void 0;var n=r(55478),a=r(97173),s=r(43667),i=r(90701);t.serializeError=function(e,t){var r=(0,i.serialize)(function(e){if("string"===typeof e)return{message:e,code:s.standardErrorCodes.rpc.internal};if((0,n.isErrorResponse)(e))return Object.assign(Object.assign({},e),{message:e.errorMessage,code:e.errorCode,data:{method:e.method}});return e}(e),{shouldIncludeStack:!0}),o=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");o.searchParams.set("version",a.LIB_VERSION),o.searchParams.set("code",r.code.toString());var u=function(e,t){var r=null===e||void 0===e?void 0:e.method;if(r)return r;if(void 0===t)return;if("string"===typeof t)return t;if(!Array.isArray(t))return t.method;if(t.length>0)return t[0].method;return}(r.data,t);return u&&o.searchParams.set("method",u),o.searchParams.set("message",r.message),Object.assign(Object.assign({},r),{docUrl:o.href})}},90701:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=t.getErrorCode=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;var n=r(43667),a="Unspecified error message.";function s(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if(e&&Number.isInteger(e)){var s=e.toString();if(c(n.errorValues,s))return n.errorValues[s].message;if(o(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function i(e){if(!Number.isInteger(e))return!1;var t=e.toString();return!!n.errorValues[t]||!!o(e)}function o(e){return e>=-32099&&e<=-32e3}function u(e){return e&&"object"===typeof e&&!Array.isArray(e)?Object.assign({},e):e}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){return"object"===typeof e&&null!==e&&t in e&&"string"===typeof e[t]}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=s,t.isValidCode=i,t.getErrorCode=function(e){var t;return"number"===typeof e?e:function(e){return"object"===typeof e&&null!==e&&("number"===typeof e.code||"number"===typeof e.errorCode)}(e)?null!==(t=e.code)&&void 0!==t?t:e.errorCode:void 0},t.serialize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.shouldIncludeStack,o=void 0!==r&&r,l={};if(e&&"object"===typeof e&&!Array.isArray(e)&&c(e,"code")&&i(e.code)){var h=e;l.code=h.code,h.message&&"string"===typeof h.message?(l.message=h.message,c(h,"data")&&(l.data=h.data)):(l.message=s(l.code),l.data={originalError:u(e)})}else l.code=n.standardErrorCodes.rpc.internal,l.message=d(e,"message")?e.message:a,l.data={originalError:u(e)};return o&&(l.stack=d(e,"stack")?e.stack:void 0),l}},72e3:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.determineMethodCategory=void 0;var r={handshake:["eth_requestAccounts"],sign:["eth_ecRecover","personal_sign","personal_ecRecover","eth_signTransaction","eth_sendTransaction","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4","eth_signTypedData","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_watchAsset","wallet_getCapabilities","wallet_sendCalls","wallet_showCallsStatus"],state:["eth_chainId","eth_accounts","eth_coinbase","net_version"],deprecated:["eth_sign","eth_signTypedData_v2"],unsupported:["eth_subscribe","eth_unsubscribe"],fetch:[]};t.determineMethodCategory=function(e){for(var t in r){var n=t;if(r[n].includes(e))return n}}},79562:function(e,t){"use strict";function r(){return function(e){return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0,t.OpaqueType=r,t.HexString=function(e){return e},t.AddressString=function(e){return e},t.BigIntString=function(e){return e},t.IntNumber=function(e){return Math.floor(e)},t.RegExpString=function(e){return e}},41462:function(e,t,r){"use strict";var n=r(861).default;Object.defineProperty(t,"__esModule",{value:!0}),t.areAddressArraysEqual=t.getFavicon=t.range=t.isBigNumber=t.ensureParsedJSONObject=t.ensureBigInt=t.ensureRegExpString=t.ensureIntNumber=t.ensureBuffer=t.ensureAddressString=t.ensureEvenLengthHexString=t.ensureHexString=t.isHexString=t.prepend0x=t.strip0x=t.has0xPrefix=t.hexStringFromIntNumber=t.intNumberFromHexString=t.bigIntStringFromBigInt=t.hexStringFromBuffer=t.hexStringToUint8Array=t.uint8ArrayToHex=t.randomBytesHex=void 0;var a=r(77344),s=r(79562),i=/^[0-9]*$/,o=/^[a-f0-9]*$/;function u(e){return n(e).map((function(e){return e.toString(16).padStart(2,"0")})).join("")}function c(e){return e.startsWith("0x")||e.startsWith("0X")}function d(e){return c(e)?e.slice(2):e}function l(e){return c(e)?"0x".concat(e.slice(2)):"0x".concat(e)}function h(e){if("string"!==typeof e)return!1;var t=d(e).toLowerCase();return o.test(t)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"===typeof e){var r=d(e).toLowerCase();if(o.test(r))return(0,s.HexString)(t?"0x".concat(r):r)}throw a.standardErrors.rpc.invalidParams('"'.concat(String(e),'" is not a hexadecimal string'))}function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=p(e,!1);return r.length%2===1&&(r=(0,s.HexString)("0".concat(r))),t?(0,s.HexString)("0x".concat(r)):r}function v(e){if("number"===typeof e&&Number.isInteger(e))return(0,s.IntNumber)(e);if("string"===typeof e){if(i.test(e))return(0,s.IntNumber)(Number(e));if(h(e))return(0,s.IntNumber)(Number(BigInt(f(e,!0))))}throw a.standardErrors.rpc.invalidParams("Not an integer: ".concat(String(e)))}function g(e){if(null==e||"function"!==typeof e.constructor)return!1;var t=e.constructor;return"function"===typeof t.config&&"number"===typeof t.EUCLID}t.randomBytesHex=function(e){return u(crypto.getRandomValues(new Uint8Array(e)))},t.uint8ArrayToHex=u,t.hexStringToUint8Array=function(e){return new Uint8Array(e.match(/.{1,2}/g).map((function(e){return parseInt(e,16)})))},t.hexStringFromBuffer=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.toString("hex");return(0,s.HexString)(t?"0x".concat(r):r)},t.bigIntStringFromBigInt=function(e){return(0,s.BigIntString)(e.toString(10))},t.intNumberFromHexString=function(e){return(0,s.IntNumber)(Number(BigInt(f(e,!0))))},t.hexStringFromIntNumber=function(e){return(0,s.HexString)("0x".concat(BigInt(e).toString(16)))},t.has0xPrefix=c,t.strip0x=d,t.prepend0x=l,t.isHexString=h,t.ensureHexString=p,t.ensureEvenLengthHexString=f,t.ensureAddressString=function(e){if("string"===typeof e){var t=d(e).toLowerCase();if(h(t)&&40===t.length)return(0,s.AddressString)(l(t))}throw a.standardErrors.rpc.invalidParams("Invalid Ethereum address: ".concat(String(e)))},t.ensureBuffer=function(e){if(Buffer.isBuffer(e))return e;if("string"===typeof e){if(h(e)){var t=f(e,!1);return Buffer.from(t,"hex")}return Buffer.from(e,"utf8")}throw a.standardErrors.rpc.invalidParams("Not binary data: ".concat(String(e)))},t.ensureIntNumber=v,t.ensureRegExpString=function(e){if(e instanceof RegExp)return(0,s.RegExpString)(e.toString());throw a.standardErrors.rpc.invalidParams("Not a RegExp: ".concat(String(e)))},t.ensureBigInt=function(e){if(null!==e&&("bigint"===typeof e||g(e)))return BigInt(e.toString(10));if("number"===typeof e)return BigInt(v(e));if("string"===typeof e){if(i.test(e))return BigInt(e);if(h(e))return BigInt(f(e,!0))}throw a.standardErrors.rpc.invalidParams("Not an integer: ".concat(String(e)))},t.ensureParsedJSONObject=function(e){if("string"===typeof e)return JSON.parse(e);if("object"===typeof e)return e;throw a.standardErrors.rpc.invalidParams("Not a JSON string or an object: ".concat(String(e)))},t.isBigNumber=g,t.range=function(e,t){return Array.from({length:t-e},(function(t,r){return e+r}))},t.getFavicon=function(){var e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),t=document.location,r=t.protocol,n=t.host,a=e?e.getAttribute("href"):null;return!a||a.startsWith("javascript:")||a.startsWith("vbscript:")?null:a.startsWith("http://")||a.startsWith("https://")||a.startsWith("data:")?a:a.startsWith("//")?r+a:"".concat(r,"//").concat(n).concat(a)},t.areAddressArraysEqual=function(e,t){return e.length===t.length&&e.every((function(e,r){return e===t[r]}))}},27695:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletSDK=void 0;var n=r(60912);t.default=n.CoinbaseWalletSDK;var a=r(60912);Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return a.CoinbaseWalletSDK}})},40658:function(e,t,r){"use strict";var n=r(17061).default,a=r(17156).default,s=r(56690).default,i=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SCWKeyManager=void 0;var o=r(87682),u=r(17631),c={storageKey:"ownPrivateKey",keyType:"private"},d={storageKey:"ownPublicKey",keyType:"public"},l={storageKey:"peerPublicKey",keyType:"public"},h=function(){function e(){s(this,e),this.storage=new u.ScopedLocalStorage("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}return i(e,[{key:"getOwnPublicKey",value:function(){var e=a(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadKeysIfNeeded();case 2:return e.abrupt("return",this.ownPublicKey);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSharedSecret",value:function(){var e=a(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadKeysIfNeeded();case 2:return e.abrupt("return",this.sharedSecret);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPeerPublicKey",value:function(){var e=a(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.sharedSecret=null,this.peerPublicKey=t,e.next=4,this.storeKey(l,t);case 4:return e.next=6,this.loadKeysIfNeeded();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=a(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(d.storageKey),this.storage.removeItem(c.storageKey),this.storage.removeItem(l.storageKey);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"generateKeyPair",value:function(){var e=a(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.generateKeyPair)();case 2:return t=e.sent,this.ownPrivateKey=t.privateKey,this.ownPublicKey=t.publicKey,e.next=7,this.storeKey(c,t.privateKey);case 7:return e.next=9,this.storeKey(d,t.publicKey);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadKeysIfNeeded",value:function(){var e=a(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.ownPrivateKey){e.next=4;break}return e.next=3,this.loadKey(c);case 3:this.ownPrivateKey=e.sent;case 4:if(null!==this.ownPublicKey){e.next=8;break}return e.next=7,this.loadKey(d);case 7:this.ownPublicKey=e.sent;case 8:if(null!==this.ownPrivateKey&&null!==this.ownPublicKey){e.next=11;break}return e.next=11,this.generateKeyPair();case 11:if(null!==this.peerPublicKey){e.next=15;break}return e.next=14,this.loadKey(l);case 14:this.peerPublicKey=e.sent;case 15:if(null!==this.sharedSecret){e.next=21;break}if(null!==this.ownPrivateKey&&null!==this.peerPublicKey){e.next=18;break}return e.abrupt("return");case 18:return e.next=20,(0,o.deriveSharedSecret)(this.ownPrivateKey,this.peerPublicKey);case 20:this.sharedSecret=e.sent;case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadKey",value:function(){var e=a(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.storage.getItem(t.storageKey)){e.next=3;break}return e.abrupt("return",null);case 3:return e.abrupt("return",(0,o.importKeyFromHexString)(t.keyType,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"storeKey",value:function(){var e=a(n().mark((function e(t,r){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.exportKeyToHexString)(t.keyType,r);case 2:a=e.sent,this.storage.setItem(t.storageKey,a);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();t.SCWKeyManager=h},56105:function(e,t,r){"use strict";var n=r(17061).default,a=r(17156).default,s=r(56690).default,i=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SCWSigner=void 0;var o=r(40658),u=r(88621),c=r(77344),d=r(41462),l=r(87682),h=function(){function e(t){s(this,e),this.metadata=t.metadata,this.communicator=t.communicator,this.keyManager=new o.SCWKeyManager,this.stateManager=new u.SCWStateManager({appChainIds:this.metadata.appChainIds,updateListener:t.updateListener}),this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}return i(e,[{key:"handshake",value:function(){var e=a(n().mark((function e(){var t,r,a,s,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createRequestMessage({handshake:{method:"eth_requestAccounts",params:this.metadata}});case 2:return t=e.sent,e.next=5,this.communicator.postRequestAndWaitForResponse(t);case 5:if(!("failure"in(r=e.sent).content)){e.next=8;break}throw r.content.failure;case 8:return e.next=10,(0,l.importKeyFromHexString)("public",r.sender);case 10:return a=e.sent,e.next=13,this.keyManager.setPeerPublicKey(a);case 13:return e.next=15,this.decryptResponseMessage(r);case 15:if(s=e.sent,this.updateInternalState({method:"eth_requestAccounts"},s),!("error"in(i=s.result))){e.next=20;break}throw i.error;case 20:return e.abrupt("return",this.stateManager.accounts);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"request",value:function(){var e=a(n().mark((function e(t){var r,a,s,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(r=this.tryLocalHandling(t))){e.next=5;break}if(!(r instanceof Error)){e.next=4;break}throw r;case 4:return e.abrupt("return",r);case 5:return e.next=7,this.communicator.waitForPopupLoaded();case 7:return e.next=9,this.sendEncryptedRequest(t);case 9:return a=e.sent,e.next=12,this.decryptResponseMessage(a);case 12:if(s=e.sent,this.updateInternalState(t,s),!("error"in(i=s.result))){e.next=17;break}throw i.error;case 17:return e.abrupt("return",i.value);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=a(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stateManager.clear(),e.next=3,this.keyManager.clear();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"tryLocalHandling",value:function(e){var t;switch(e.method){case"wallet_switchEthereumChain":var r=e.params;if(!r||!(null===(t=r[0])||void 0===t?void 0:t.chainId))throw c.standardErrors.rpc.invalidParams();var n=(0,d.ensureIntNumber)(r[0].chainId);return this.stateManager.switchChain(n)?null:void 0;case"wallet_getCapabilities":var a=this.stateManager.walletCapabilities;if(!a)throw c.standardErrors.provider.unauthorized("No wallet capabilities found, please disconnect and reconnect");return a;default:return}}},{key:"sendEncryptedRequest",value:function(){var e=a(n().mark((function e(t){var r,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.keyManager.getSharedSecret();case 2:if(r=e.sent){e.next=5;break}throw c.standardErrors.provider.unauthorized("No valid session found, try requestAccounts before other methods");case 5:return e.next=7,(0,l.encryptContent)({action:t,chainId:this.stateManager.activeChain.id},r);case 7:return a=e.sent,e.next=10,this.createRequestMessage({encrypted:a});case 10:return s=e.sent,e.abrupt("return",this.communicator.postRequestAndWaitForResponse(s));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createRequestMessage",value:function(){var e=a(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l.exportKeyToHexString,e.next=3,this.keyManager.getOwnPublicKey();case 3:return e.t1=e.sent,e.next=6,(0,e.t0)("public",e.t1);case 6:return r=e.sent,e.abrupt("return",{id:crypto.randomUUID(),sender:r,content:t,timestamp:new Date});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"decryptResponseMessage",value:function(){var e=a(n().mark((function e(t){var r,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("failure"in(r=t.content))){e.next=3;break}throw r.failure;case 3:return e.next=5,this.keyManager.getSharedSecret();case 5:if(a=e.sent){e.next=8;break}throw c.standardErrors.provider.unauthorized("Invalid session");case 8:return e.abrupt("return",(0,l.decryptContent)(r.encrypted,a));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateInternalState",value:function(e,t){var r,n,a=null===(r=t.data)||void 0===r?void 0:r.chains;a&&this.stateManager.updateAvailableChains(a);var s=null===(n=t.data)||void 0===n?void 0:n.capabilities;s&&this.stateManager.updateWalletCapabilities(s);var i=t.result;if(!("error"in i))switch(e.method){case"eth_requestAccounts":var o=i.value;this.stateManager.updateAccounts(o);break;case"wallet_switchEthereumChain":if(null!==i.value)return;var u=e.params,c=(0,d.ensureIntNumber)(u[0].chainId);this.stateManager.switchChain(c)}}}]),e}();t.SCWSigner=h},88621:function(e,t,r){"use strict";var n=r(27424).default,a=r(56690).default,s=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SCWStateManager=void 0;var i=r(17631),o="accounts",u="activeChain",c="availableChains",d="walletCapabilities",l=function(){function e(t){var r,n;a(this,e),this.storage=new i.ScopedLocalStorage("CBWSDK","SCWStateManager"),this.updateListener=t.updateListener,this.availableChains=this.loadItemFromStorage(c),this._walletCapabilities=this.loadItemFromStorage(d);var s=this.loadItemFromStorage(o),l=this.loadItemFromStorage(u);s&&this.updateListener.onAccountsUpdate({accounts:s,source:"storage"}),l&&this.updateListener.onChainUpdate({chain:l,source:"storage"}),this._accounts=s||[],this._activeChain=l||{id:null!==(n=null===(r=t.appChainIds)||void 0===r?void 0:r[0])&&void 0!==n?n:1}}return s(e,[{key:"accounts",get:function(){return this._accounts}},{key:"activeChain",get:function(){return this._activeChain}},{key:"walletCapabilities",get:function(){return this._walletCapabilities}},{key:"updateAccounts",value:function(e){this._accounts=e,this.storeItemToStorage(o,e),this.updateListener.onAccountsUpdate({accounts:e,source:"wallet"})}},{key:"switchChain",value:function(e){var t,r=null===(t=this.availableChains)||void 0===t?void 0:t.find((function(t){return t.id===e}));return!!r&&(r===this._activeChain||(this._activeChain=r,this.storeItemToStorage(u,r),this.updateListener.onChainUpdate({chain:r,source:"wallet"})),!0)}},{key:"updateAvailableChains",value:function(e){if(e&&0!==Object.keys(e).length){var t=Object.entries(e).map((function(e){var t=n(e,2),r=t[0],a=t[1];return{id:Number(r),rpcUrl:a}}));this.availableChains=t,this.storeItemToStorage(c,t),this.switchChain(this._activeChain.id)}}},{key:"updateWalletCapabilities",value:function(e){this._walletCapabilities=e,this.storeItemToStorage(d,e)}},{key:"storeItemToStorage",value:function(e,t){this.storage.setItem(e,JSON.stringify(t))}},{key:"loadItemFromStorage",value:function(e){var t=this.storage.getItem(e);return t?JSON.parse(t):void 0}},{key:"clear",value:function(){this.storage.clear()}}]),e}();t.SCWStateManager=l},18054:function(e,t,r){"use strict";var n=r(17061).default,a=r(17156).default;Object.defineProperty(t,"__esModule",{value:!0}),t.createSigner=t.fetchSignerType=t.storeSignerType=t.loadSignerType=void 0;var s=r(56105),i=r(32516),o=r(77344),u=r(52344),c=r(17631),d="SignerType",l=new c.ScopedLocalStorage("CBWSDK","SignerConfigurator");function h(){return(h=a(n().mark((function e(t){var r,a,s,i,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.communicator,a=t.metadata,p(r,a).catch((function(){})),s={id:crypto.randomUUID(),event:"selectSignerType",data:t.preference},e.next=5,r.postRequestAndWaitForResponse(s);case 5:return i=e.sent,o=i.data,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return f.apply(this,arguments)}function f(){return(f=a(n().mark((function e(t,r){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.onMessage((function(e){return"WalletLinkSessionRequest"===e.event}));case 2:return a=new i.WalletLinkSigner({metadata:r}),t.postMessage({event:"WalletLinkUpdate",data:{session:a.getSession()}}),e.next=6,a.handshake();case 6:t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.loadSignerType=function(){return l.getItem(d)},t.storeSignerType=function(e){l.setItem(d,e)},t.fetchSignerType=function(e){return h.apply(this,arguments)},t.createSigner=function(e){var t=e.signerType,r=e.metadata,n=e.communicator,a=e.updateListener;switch(t){case"scw":return new s.SCWSigner({metadata:r,updateListener:a,communicator:n});case"walletlink":return new i.WalletLinkSigner({metadata:r,updateListener:a});case"extension":var c=(0,u.getCoinbaseInjectedSigner)();if(!c)throw o.standardErrors.rpc.internal("injected signer not found");return c}}},32516:function(e,t,r){"use strict";var n=r(861).default,a=r(17061).default,s=r(17156).default,i=r(56690).default,o=r(89728).default,u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WalletLinkSigner=void 0;var c=u(r(59231)),d=r(63127),l=r(35484),h=r(55478),p=r(19642),f=r(53530),v=r(77344),g=r(41462),m=r(17631),y="DefaultChainId",b="DefaultJsonRpcUrl",w=function(){function e(t){var r,n;i(this,e),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1;var a=t.metadata,s=a.appName,o=a.appLogoUrl;this._appName=s,this._appLogoUrl=o,this._storage=new m.ScopedLocalStorage("walletlink",f.WALLETLINK_URL),this.updateListener=t.updateListener,this._relayEventManager=new l.RelayEventManager,this._jsonRpcUrlFromOpts="";var u=this._storage.getItem(d.LOCAL_STORAGE_ADDRESSES_KEY);if(u){var c=u.split(" ");""!==c[0]&&(this._addresses=c.map((function(e){return(0,g.ensureAddressString)(e)})),null===(r=this.updateListener)||void 0===r||r.onAccountsUpdate({accounts:this._addresses,source:"storage"}))}this._storage.getItem(y)&&(null===(n=this.updateListener)||void 0===n||n.onChainUpdate({chain:{id:this.getChainId(),rpcUrl:this.jsonRpcUrl},source:"storage"}),this.hasMadeFirstChainChangedEmission=!0),this.initializeRelay()}return o(e,[{key:"getSession",value:function(){var e=this.initializeRelay().getWalletLinkSession();return{id:e.id,secret:e.secret}}},{key:"handshake",value:function(){var e=s(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request({method:"eth_requestAccounts"});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"selectedAddress",get:function(){return this._addresses[0]||void 0}},{key:"jsonRpcUrl",get:function(){var e;return null!==(e=this._storage.getItem(b))&&void 0!==e?e:this._jsonRpcUrlFromOpts},set:function(e){this._storage.setItem(b,e)}},{key:"updateProviderInfo",value:function(e,t){var r;this.jsonRpcUrl=e;var n=this.getChainId();this._storage.setItem(y,t.toString(10)),!((0,g.ensureIntNumber)(t)!==n)&&this.hasMadeFirstChainChangedEmission||(null===(r=this.updateListener)||void 0===r||r.onChainUpdate({chain:{id:t,rpcUrl:e},source:"wallet"}),this.hasMadeFirstChainChangedEmission=!0)}},{key:"watchAsset",value:function(){var e=s(a().mark((function e(t,r,n,s,i,o){var u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=this.initializeRelay(),e.next=3,u.watchAsset(t,r,n,s,i,null===o||void 0===o?void 0:o.toString());case 3:if(c=e.sent,!(0,h.isErrorResponse)(c)){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",!!c.result);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,s,i){return e.apply(this,arguments)}}()},{key:"addEthereumChain",value:function(){var e=s(a().mark((function e(t,r,n,s,i,o){var u,c,d,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,g.ensureIntNumber)(t)!==this.getChainId()){e.next=2;break}return e.abrupt("return",!1);case 2:if(d=this.initializeRelay(),this._isAuthorized()){e.next=6;break}return e.next=6,d.requestEthereumAccounts();case 6:return e.next=8,d.addEthereumChain(t.toString(),r,i,n,s,o);case 8:if(l=e.sent,!(0,h.isErrorResponse)(l)){e.next=11;break}return e.abrupt("return",!1);case 11:return!0===(null===(u=l.result)||void 0===u?void 0:u.isApproved)&&this.updateProviderInfo(r[0],t),e.abrupt("return",!0===(null===(c=l.result)||void 0===c?void 0:c.isApproved));case 13:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,s,i){return e.apply(this,arguments)}}()},{key:"switchEthereumChain",value:function(){var e=s(a().mark((function e(t){var r,n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.initializeRelay(),e.next=3,r.switchEthereumChain(t.toString(10),this.selectedAddress||void 0);case 3:if(n=e.sent,!(0,h.isErrorResponse)(n)){e.next=12;break}if(n.errorCode){e.next=7;break}return e.abrupt("return");case 7:if(n.errorCode!==v.standardErrorCodes.provider.unsupportedChain){e.next=11;break}throw v.standardErrors.provider.unsupportedChain();case 11:throw v.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode});case 12:(s=n.result).isApproved&&s.rpcUrl.length>0&&this.updateProviderInfo(s.rpcUrl,t);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._relay&&this._relay.resetAndReload(),this._storage.clear();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"request",value:function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",this._request(t).catch((function(e){throw e})));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 7:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_request",value:function(){var e=s(a().mark((function e(t){var r,n,s,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"object"===typeof t&&!Array.isArray(t)){e.next=2;break}throw v.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:t});case 2:if(r=t.method,n=t.params,"string"===typeof r&&0!==r.length){e.next=5;break}throw v.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:t});case 5:if(void 0===n||Array.isArray(n)||"object"===typeof n&&null!==n){e.next=7;break}throw v.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:t});case 7:return s=void 0===n?[]:n,i=this._relayEventManager.makeRequestId(),e.next=11,this._sendRequestAsync({method:r,params:s,jsonrpc:"2.0",id:i});case 11:return o=e.sent,e.abrupt("return",o.result);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setAddresses",value:function(e,t){var r;if(!Array.isArray(e))throw new Error("addresses is not an array");var n=e.map((function(e){return(0,g.ensureAddressString)(e)}));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,null===(r=this.updateListener)||void 0===r||r.onAccountsUpdate({accounts:n,source:"wallet"}),this._storage.setItem(d.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}},{key:"_sendRequestAsync",value:function(e){var t=this;return new Promise((function(r,n){try{var a=t._handleSynchronousMethods(e);if(void 0!==a)return r({jsonrpc:"2.0",id:e.id,result:a})}catch(s){return n(s)}t._handleAsynchronousMethods(e).then((function(t){return t&&r(Object.assign(Object.assign({},t),{id:e.id}))})).catch((function(e){return n(e)}))}))}},{key:"_handleSynchronousMethods",value:function(e){switch(e.method){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}},{key:"_handleAsynchronousMethods",value:function(){var e=s(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.method,n=t.params||[],e.t0=r,e.next="eth_requestAccounts"===e.t0?5:"eth_sign"===e.t0?6:"eth_ecRecover"===e.t0?7:"personal_sign"===e.t0?8:"personal_ecRecover"===e.t0?9:"eth_signTransaction"===e.t0?10:"eth_sendRawTransaction"===e.t0?11:"eth_sendTransaction"===e.t0?12:"eth_signTypedData_v1"===e.t0?13:"eth_signTypedData_v2"===e.t0?14:"eth_signTypedData_v3"===e.t0?15:"eth_signTypedData_v4"===e.t0||"eth_signTypedData"===e.t0?16:"wallet_addEthereumChain"===e.t0?17:"wallet_switchEthereumChain"===e.t0?18:"wallet_watchAsset"===e.t0?19:20;break;case 5:return e.abrupt("return",this._eth_requestAccounts());case 6:return e.abrupt("return",this._eth_sign(n));case 7:return e.abrupt("return",this._eth_ecRecover(n));case 8:return e.abrupt("return",this._personal_sign(n));case 9:return e.abrupt("return",this._personal_ecRecover(n));case 10:return e.abrupt("return",this._eth_signTransaction(n));case 11:return e.abrupt("return",this._eth_sendRawTransaction(n));case 12:return e.abrupt("return",this._eth_sendTransaction(n));case 13:return e.abrupt("return",this._eth_signTypedData_v1(n));case 14:case 20:return e.abrupt("return",this._throwUnsupportedMethodError());case 15:return e.abrupt("return",this._eth_signTypedData_v3(n));case 16:return e.abrupt("return",this._eth_signTypedData_v4(n));case 17:return e.abrupt("return",this._wallet_addEthereumChain(n));case 18:return e.abrupt("return",this._wallet_switchEthereumChain(n));case 19:return e.abrupt("return",this._wallet_watchAsset(n));case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isKnownAddress",value:function(e){try{var t=(0,g.ensureAddressString)(e);return this._addresses.map((function(e){return(0,g.ensureAddressString)(e)})).includes(t)}catch(r){}return!1}},{key:"_ensureKnownAddress",value:function(e){if(!this._isKnownAddress(e))throw new Error("Unknown Ethereum address")}},{key:"_prepareTransactionParams",value:function(e){var t=e.from?(0,g.ensureAddressString)(e.from):this.selectedAddress;if(!t)throw new Error("Ethereum address is unavailable");return this._ensureKnownAddress(t),{fromAddress:t,toAddress:e.to?(0,g.ensureAddressString)(e.to):null,weiValue:null!=e.value?(0,g.ensureBigInt)(e.value):BigInt(0),data:e.data?(0,g.ensureBuffer)(e.data):Buffer.alloc(0),nonce:null!=e.nonce?(0,g.ensureIntNumber)(e.nonce):null,gasPriceInWei:null!=e.gasPrice?(0,g.ensureBigInt)(e.gasPrice):null,maxFeePerGas:null!=e.maxFeePerGas?(0,g.ensureBigInt)(e.maxFeePerGas):null,maxPriorityFeePerGas:null!=e.maxPriorityFeePerGas?(0,g.ensureBigInt)(e.maxPriorityFeePerGas):null,gasLimit:null!=e.gas?(0,g.ensureBigInt)(e.gas):null,chainId:e.chainId?(0,g.ensureIntNumber)(e.chainId):this.getChainId()}}},{key:"_isAuthorized",value:function(){return this._addresses.length>0}},{key:"_requireAuthorization",value:function(){if(!this._isAuthorized())throw v.standardErrors.provider.unauthorized({})}},{key:"_throwUnsupportedMethodError",value:function(){throw v.standardErrors.provider.unsupportedMethod({})}},{key:"_signEthereumMessage",value:function(){var e=s(a().mark((function e(t,r,n,s){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._ensureKnownAddress(r),e.prev=1,i=this.initializeRelay(),e.next=5,i.signEthereumMessage(t,r,n,s);case 5:if(o=e.sent,!(0,h.isErrorResponse)(o)){e.next=8;break}throw new Error(o.errorMessage);case 8:return e.abrupt("return",{jsonrpc:"2.0",id:0,result:o.result});case 11:if(e.prev=11,e.t0=e.catch(1),"string"!==typeof e.t0.message||!e.t0.message.match(/(denied|rejected)/i)){e.next=15;break}throw v.standardErrors.provider.userRejectedRequest("User denied message signature");case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"_ethereumAddressFromSignedMessage",value:function(){var e=s(a().mark((function e(t,r,n){var s,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.initializeRelay(),e.next=3,s.ethereumAddressFromSignedMessage(t,r,n);case 3:if(i=e.sent,!(0,h.isErrorResponse)(i)){e.next=6;break}throw new Error(i.errorMessage);case 6:return e.abrupt("return",{jsonrpc:"2.0",id:0,result:i.result});case 7:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"_eth_accounts",value:function(){return n(this._addresses)}},{key:"_eth_coinbase",value:function(){return this.selectedAddress||null}},{key:"_net_version",value:function(){return this.getChainId().toString(10)}},{key:"_eth_chainId",value:function(){return(0,g.hexStringFromIntNumber)(this.getChainId())}},{key:"getChainId",value:function(){var e=this._storage.getItem(y);if(!e)return(0,g.ensureIntNumber)(1);var t=parseInt(e,10);return(0,g.ensureIntNumber)(t)}},{key:"_eth_requestAccounts",value:function(){var e=s(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isAuthorized()){e.next=2;break}return e.abrupt("return",Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses}));case 2:return e.prev=2,r=this.initializeRelay(),e.next=6,r.requestEthereumAccounts();case 6:if(t=e.sent,!(0,h.isErrorResponse)(t)){e.next=9;break}throw new Error(t.errorMessage);case 9:e.next=16;break;case 11:if(e.prev=11,e.t0=e.catch(2),"string"!==typeof e.t0.message||!e.t0.message.match(/(denied|rejected)/i)){e.next=15;break}throw v.standardErrors.provider.userRejectedRequest("User denied account authorization");case 15:throw e.t0;case 16:if(t.result){e.next=18;break}throw new Error("accounts received is empty");case 18:return this._setAddresses(t.result),e.abrupt("return",{jsonrpc:"2.0",id:0,result:this._addresses});case 20:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"_eth_sign",value:function(e){this._requireAuthorization();var t=(0,g.ensureAddressString)(e[0]),r=(0,g.ensureBuffer)(e[1]);return this._signEthereumMessage(r,t,!1)}},{key:"_eth_ecRecover",value:function(e){var t=(0,g.ensureBuffer)(e[0]),r=(0,g.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,r,!1)}},{key:"_personal_sign",value:function(e){this._requireAuthorization();var t=(0,g.ensureBuffer)(e[0]),r=(0,g.ensureAddressString)(e[1]);return this._signEthereumMessage(t,r,!0)}},{key:"_personal_ecRecover",value:function(e){var t=(0,g.ensureBuffer)(e[0]),r=(0,g.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,r,!0)}},{key:"_eth_signTransaction",value:function(){var e=s(a().mark((function e(t){var r,n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._requireAuthorization(),r=this._prepareTransactionParams(t[0]||{}),e.prev=2,n=this.initializeRelay(),e.next=6,n.signEthereumTransaction(r);case 6:if(s=e.sent,!(0,h.isErrorResponse)(s)){e.next=9;break}throw new Error(s.errorMessage);case 9:return e.abrupt("return",{jsonrpc:"2.0",id:0,result:s.result});case 12:if(e.prev=12,e.t0=e.catch(2),"string"!==typeof e.t0.message||!e.t0.message.match(/(denied|rejected)/i)){e.next=16;break}throw v.standardErrors.provider.userRejectedRequest("User denied transaction signature");case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,this,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_eth_sendRawTransaction",value:function(){var e=s(a().mark((function e(t){var r,n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,g.ensureBuffer)(t[0]),n=this.initializeRelay(),e.next=4,n.submitEthereumTransaction(r,this.getChainId());case 4:if(s=e.sent,!(0,h.isErrorResponse)(s)){e.next=7;break}throw new Error(s.errorMessage);case 7:return e.abrupt("return",{jsonrpc:"2.0",id:0,result:s.result});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_eth_sendTransaction",value:function(){var e=s(a().mark((function e(t){var r,n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._requireAuthorization(),r=this._prepareTransactionParams(t[0]||{}),e.prev=2,n=this.initializeRelay(),e.next=6,n.signAndSubmitEthereumTransaction(r);case 6:if(s=e.sent,!(0,h.isErrorResponse)(s)){e.next=9;break}throw new Error(s.errorMessage);case 9:return e.abrupt("return",{jsonrpc:"2.0",id:0,result:s.result});case 12:if(e.prev=12,e.t0=e.catch(2),"string"!==typeof e.t0.message||!e.t0.message.match(/(denied|rejected)/i)){e.next=16;break}throw v.standardErrors.provider.userRejectedRequest("User denied transaction signature");case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,this,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_eth_signTypedData_v1",value:function(){var e=s(a().mark((function e(t){var r,n,s,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._requireAuthorization(),r=(0,g.ensureParsedJSONObject)(t[0]),n=(0,g.ensureAddressString)(t[1]),this._ensureKnownAddress(n),s=c.default.hashForSignTypedDataLegacy({data:r}),i=JSON.stringify(r,null,2),e.abrupt("return",this._signEthereumMessage(s,n,!1,i));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_eth_signTypedData_v3",value:function(){var e=s(a().mark((function e(t){var r,n,s,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._requireAuthorization(),r=(0,g.ensureAddressString)(t[0]),n=(0,g.ensureParsedJSONObject)(t[1]),this._ensureKnownAddress(r),s=c.default.hashForSignTypedData_v3({data:n}),i=JSON.stringify(n,null,2),e.abrupt("return",this._signEthereumMessage(s,r,!1,i));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_eth_signTypedData_v4",value:function(){var e=s(a().mark((function e(t){var r,n,s,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._requireAuthorization(),r=(0,g.ensureAddressString)(t[0]),n=(0,g.ensureParsedJSONObject)(t[1]),this._ensureKnownAddress(r),s=c.default.hashForSignTypedData_v4({data:n}),i=JSON.stringify(n,null,2),e.abrupt("return",this._signEthereumMessage(s,r,!1,i));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_wallet_addEthereumChain",value:function(){var e=s(a().mark((function e(t){var r,n,s,i,o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t[0],0!==(null===(r=o.rpcUrls)||void 0===r?void 0:r.length)){e.next=3;break}return e.abrupt("return",{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}});case 3:if(o.chainName&&""!==o.chainName.trim()){e.next=5;break}throw v.standardErrors.rpc.invalidParams("chainName is a required field");case 5:if(o.nativeCurrency){e.next=7;break}throw v.standardErrors.rpc.invalidParams("nativeCurrency is a required field");case 7:return u=parseInt(o.chainId,16),e.next=10,this.addEthereumChain(u,null!==(n=o.rpcUrls)&&void 0!==n?n:[],null!==(s=o.blockExplorerUrls)&&void 0!==s?s:[],o.chainName,null!==(i=o.iconUrls)&&void 0!==i?i:[],o.nativeCurrency);case 10:if(!e.sent){e.next=13;break}return e.abrupt("return",{jsonrpc:"2.0",id:0,result:null});case 13:return e.abrupt("return",{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}});case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_wallet_switchEthereumChain",value:function(){var e=s(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t[0],e.next=3,this.switchEthereumChain(parseInt(r.chainId,16));case 3:return e.abrupt("return",{jsonrpc:"2.0",id:0,result:null});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_wallet_watchAsset",value:function(){var e=s(a().mark((function e(t){var r,n,s,i,o,u,c,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Array.isArray(t)?t[0]:t).type){e.next=3;break}throw v.standardErrors.rpc.invalidParams("Type is required");case 3:if("ERC20"===(null===r||void 0===r?void 0:r.type)){e.next=5;break}throw v.standardErrors.rpc.invalidParams("Asset of type '".concat(r.type,"' is not supported"));case 5:if(null===r||void 0===r?void 0:r.options){e.next=7;break}throw v.standardErrors.rpc.invalidParams("Options are required");case 7:if(null===r||void 0===r?void 0:r.options.address){e.next=9;break}throw v.standardErrors.rpc.invalidParams("Address is required");case 9:return n=this.getChainId(),s=r.options,i=s.address,o=s.symbol,u=s.image,c=s.decimals,e.next=13,this.watchAsset(r.type,i,o,c,u,n);case 13:return d=e.sent,e.abrupt("return",{jsonrpc:"2.0",id:0,result:d});case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeRelay",value:function(){var e=this;if(!this._relay){var t=new p.WalletLinkRelay({linkAPIUrl:f.WALLETLINK_URL,storage:this._storage});t.setAppInfo(this._appName,this._appLogoUrl),t.attachUI(),t.setAccountsCallback((function(t,r){return e._setAddresses(t,r)})),t.setChainCallback((function(t,r){e.updateProviderInfo(r,parseInt(t,10))})),this._relay=t}return this._relay}}]),e}();t.WalletLinkSigner=w},35484:function(e,t,r){"use strict";var n=r(56690).default,a=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.RelayEventManager=void 0;var s=r(41462),i=function(){function e(){n(this,e),this._nextRequestId=0,this.callbacks=new Map}return a(e,[{key:"makeRequestId",value:function(){this._nextRequestId=(this._nextRequestId+1)%2147483647;var e=this._nextRequestId,t=(0,s.prepend0x)(e.toString(16));return this.callbacks.get(t)&&this.callbacks.delete(t),e}}]),e}();t.RelayEventManager=i},19642:function(e,t,r){"use strict";var n=r(56690).default,a=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WalletLinkRelay=void 0;var s=r(43145),i=r(63127),o=r(35484),u=r(14875),c=r(55478),d=r(86166),l=r(17612),h=r(47291),p=r(77344),f=r(41462),v=r(17631),g=function(){function e(t){var r=this;n(this,e),this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.isMobileWeb=(0,d.isMobileWeb)(),this.appName="",this.appLogoUrl=null,this.linkedUpdated=function(e){r.isLinked=e;var t=r.storage.getItem(i.LOCAL_STORAGE_ADDRESSES_KEY);if(e&&(r._session.linked=e),r.isUnlinkedErrorState=!1,t){var n=t.split(" "),a="true"===r.storage.getItem("IsStandaloneSigning");""===n[0]||e||!r._session.linked||a||(r.isUnlinkedErrorState=!0)}},this.metadataUpdated=function(e,t){r.storage.setItem(e,t)},this.chainUpdated=function(e,t){r.chainCallbackParams.chainId===e&&r.chainCallbackParams.jsonRpcUrl===t||(r.chainCallbackParams={chainId:e,jsonRpcUrl:t},r.chainCallback&&r.chainCallback(e,t))},this.accountUpdated=function(t){r.accountsCallback&&r.accountsCallback([t]),e.accountRequestCallbackIds.size>0&&(Array.from(e.accountRequestCallbackIds.values()).forEach((function(e){var n={type:"WEB3_RESPONSE",id:e,response:{method:"requestEthereumAccounts",result:[t]}};r.invokeCallback(Object.assign(Object.assign({},n),{id:e}))})),e.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=t.linkAPIUrl,this.storage=t.storage;var a=this.subscribe(),s=a.session,u=a.ui,c=a.connection;this._session=s,this.connection=c,this.relayEventManager=new o.RelayEventManager,this.ui=u}return a(e,[{key:"subscribe",value:function(){var e=u.WalletLinkSession.load(this.storage)||new u.WalletLinkSession(this.storage).save(),t=this.linkAPIUrl,r=new s.WalletLinkConnection({session:e,linkAPIUrl:t,listener:this}),n=this.isMobileWeb?new h.WLMobileRelayUI:new l.WalletLinkRelayUI;return r.connect(),{session:e,ui:n,connection:r}}},{key:"attachUI",value:function(){this.ui.attach()}},{key:"resetAndReload",value:function(){var e=this;Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise((function(e){return setTimeout((function(){return e(null)}),1e3)}))]).then((function(){e.connection.destroy();var t=u.WalletLinkSession.load(e.storage);(null===t||void 0===t?void 0:t.id)===e._session.id&&v.ScopedLocalStorage.clearAll(),document.location.reload()})).catch((function(e){}))}},{key:"setAppInfo",value:function(e,t){this.appName=e,this.appLogoUrl=t}},{key:"getStorageItem",value:function(e){return this.storage.getItem(e)}},{key:"setStorageItem",value:function(e,t){this.storage.setItem(e,t)}},{key:"signEthereumMessage",value:function(e,t,r,n){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,f.hexStringFromBuffer)(e,!0),address:t,addPrefix:r,typedDataJson:n||null}})}},{key:"ethereumAddressFromSignedMessage",value:function(e,t,r){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,f.hexStringFromBuffer)(e,!0),signature:(0,f.hexStringFromBuffer)(t,!0),addPrefix:r}})}},{key:"signEthereumTransaction",value:function(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,f.bigIntStringFromBigInt)(e.weiValue),data:(0,f.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,f.bigIntStringFromBigInt)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,f.bigIntStringFromBigInt)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,f.bigIntStringFromBigInt)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,f.bigIntStringFromBigInt)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}},{key:"signAndSubmitEthereumTransaction",value:function(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,f.bigIntStringFromBigInt)(e.weiValue),data:(0,f.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,f.bigIntStringFromBigInt)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,f.bigIntStringFromBigInt)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,f.bigIntStringFromBigInt)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,f.bigIntStringFromBigInt)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}},{key:"submitEthereumTransaction",value:function(e,t){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,f.hexStringFromBuffer)(e,!0),chainId:t}})}},{key:"scanQRCode",value:function(e){return this.sendRequest({method:"scanQRCode",params:{regExp:e}})}},{key:"getWalletLinkSession",value:function(){return this._session}},{key:"genericRequest",value:function(e,t){return this.sendRequest({method:"generic",params:{action:t,data:e}})}},{key:"sendGenericMessage",value:function(e){return this.sendRequest(e)}},{key:"sendRequest",value:function(e){var t=this,r=null,n=(0,f.randomBytesHex)(8),a=function(a){t.publishWeb3RequestCanceledEvent(n),t.handleErrorResponse(n,e.method,a),null===r||void 0===r||r()};return new Promise((function(s,i){r=t.ui.showConnecting({isUnlinkedErrorState:t.isUnlinkedErrorState,onCancel:a,onResetConnection:t.resetAndReload}),t.relayEventManager.callbacks.set(n,(function(e){if(null===r||void 0===r||r(),(0,c.isErrorResponse)(e))return i(new Error(e.errorMessage));s(e)})),t.publishWeb3RequestEvent(n,e)}))}},{key:"setAccountsCallback",value:function(e){this.accountsCallback=e}},{key:"setChainCallback",value:function(e){this.chainCallback=e}},{key:"setDappDefaultChainCallback",value:function(e){this.dappDefaultChain=e}},{key:"publishWeb3RequestEvent",value:function(e,t){var r=this,n={type:"WEB3_REQUEST",id:e,request:t};this.publishEvent("Web3Request",n,!0).then((function(e){})).catch((function(e){r.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n.id,response:{method:t.method,errorMessage:e.message}})})),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(t.method)}},{key:"openCoinbaseWalletDeeplink",value:function(e){var t=this;if(this.ui instanceof h.WLMobileRelayUI)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",(function(){window.addEventListener("focus",(function(){t.connection.checkUnseenEvents()}),{once:!0})}),{once:!0}),this.ui.openCoinbaseWalletDeeplink()}}},{key:"publishWeb3RequestCanceledEvent",value:function(e){var t={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",t,!1).then()}},{key:"publishEvent",value:function(e,t,r){return this.connection.publishEvent(e,t,r)}},{key:"handleWeb3ResponseMessage",value:function(t){var r=this;if("requestEthereumAccounts"===t.response.method)return e.accountRequestCallbackIds.forEach((function(e){return r.invokeCallback(Object.assign(Object.assign({},t),{id:e}))})),void e.accountRequestCallbackIds.clear();this.invokeCallback(t)}},{key:"handleErrorResponse",value:function(e,t,r){var n,a=null!==(n=null===r||void 0===r?void 0:r.message)&&void 0!==n?n:"Unspecified error message.";this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:e,response:{method:t,errorMessage:a}})}},{key:"invokeCallback",value:function(e){var t=this.relayEventManager.callbacks.get(e.id);t&&(t(e.response),this.relayEventManager.callbacks.delete(e.id))}},{key:"requestEthereumAccounts",value:function(){var t=this,r={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},n=(0,f.randomBytesHex)(8);return new Promise((function(a,s){t.relayEventManager.callbacks.set(n,(function(e){if((0,c.isErrorResponse)(e))return s(new Error(e.errorMessage));a(e)})),e.accountRequestCallbackIds.add(n),t.publishWeb3RequestEvent(n,r)}))}},{key:"watchAsset",value:function(e,t,r,n,a,s){var i=this,o={method:"watchAsset",params:{type:e,options:{address:t,symbol:r,decimals:n,image:a},chainId:s}},u=null,d=(0,f.randomBytesHex)(8);return u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:function(e){i.publishWeb3RequestCanceledEvent(d),i.handleErrorResponse(d,o.method,e),null===u||void 0===u||u()},onResetConnection:this.resetAndReload}),new Promise((function(e,t){i.relayEventManager.callbacks.set(d,(function(r){if(null===u||void 0===u||u(),(0,c.isErrorResponse)(r))return t(new Error(r.errorMessage));e(r)})),i.publishWeb3RequestEvent(d,o)}))}},{key:"addEthereumChain",value:function(e,t,r,n,a,s){var i=this,o={method:"addEthereumChain",params:{chainId:e,rpcUrls:t,blockExplorerUrls:n,chainName:a,iconUrls:r,nativeCurrency:s}},u=null,d=(0,f.randomBytesHex)(8);return u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:function(e){i.publishWeb3RequestCanceledEvent(d),i.handleErrorResponse(d,o.method,e),null===u||void 0===u||u()},onResetConnection:this.resetAndReload}),new Promise((function(e,t){i.relayEventManager.callbacks.set(d,(function(r){if(null===u||void 0===u||u(),(0,c.isErrorResponse)(r))return t(new Error(r.errorMessage));e(r)})),i.publishWeb3RequestEvent(d,o)}))}},{key:"switchEthereumChain",value:function(e,t){var r=this,n={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:t})},a=(0,f.randomBytesHex)(8);return new Promise((function(e,t){r.relayEventManager.callbacks.set(a,(function(r){return(0,c.isErrorResponse)(r)&&r.errorCode?t(p.standardErrors.provider.custom({code:r.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."})):(0,c.isErrorResponse)(r)?t(new Error(r.errorMessage)):void e(r)})),r.publishWeb3RequestEvent(a,n)}))}}]),e}();t.WalletLinkRelay=g,g.accountRequestCallbackIds=new Set},93601:function(e,t,r){"use strict";var n=r(17061).default,a=r(861).default,s=r(17156).default,i=r(56690).default,o=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WalletLinkCipher=void 0;var u=r(41462),c=function(){function e(t){i(this,e),this.secret=t}return o(e,[{key:"encrypt",value:function(){var e=s(n().mark((function e(t){var r,s,i,o,c,d,l,h,p,f;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(64===(r=this.secret).length){e.next=3;break}throw Error("secret must be 256 bits");case 3:return s=crypto.getRandomValues(new Uint8Array(12)),e.next=6,crypto.subtle.importKey("raw",(0,u.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]);case 6:return i=e.sent,o=new TextEncoder,e.next=10,window.crypto.subtle.encrypt({name:"AES-GCM",iv:s},i,o.encode(t));case 10:return c=e.sent,16,d=c.slice(c.byteLength-16),l=c.slice(0,c.byteLength-16),h=new Uint8Array(d),p=new Uint8Array(l),f=new Uint8Array([].concat(a(s),a(h),a(p))),e.abrupt("return",(0,u.uint8ArrayToHex)(f));case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"decrypt",value:function(){var e=s(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(64===(r=this.secret).length){e.next=3;break}throw Error("secret must be 256 bits");case 3:return e.abrupt("return",new Promise((function(e,i){s(n().mark((function s(){var o,c,d,l,h,p,f,v,g;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,crypto.subtle.importKey("raw",(0,u.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]);case 2:return o=n.sent,c=(0,u.hexStringToUint8Array)(t),d=c.slice(0,12),l=c.slice(12,28),h=c.slice(28),p=new Uint8Array([].concat(a(h),a(l))),f={name:"AES-GCM",iv:new Uint8Array(d)},n.prev=9,n.next=12,window.crypto.subtle.decrypt(f,o,p);case 12:v=n.sent,g=new TextDecoder,e(g.decode(v)),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(9),i(n.t0);case 20:case"end":return n.stop()}}),s,null,[[9,17]])})))()})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.WalletLinkCipher=c},43145:function(e,t,r){"use strict";var n=r(38416).default,a=r(17061).default,s=r(17156).default,i=r(56690).default,o=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WalletLinkConnection=void 0;var u=r(63127),c=r(93601),d=r(50226),l=r(45676),h=r(79562),p=function(){function e(t){var r=this,n=t.session,o=t.linkAPIUrl,p=t.listener,f=t.WebSocketClass,v=void 0===f?WebSocket:f;i(this,e),this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,h.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=function(e){e&&new Map([["__destroyed",r.handleDestroyed],["EthereumAddress",r.handleAccountUpdated],["WalletUsername",r.handleWalletUsernameUpdated],["AppVersion",r.handleAppVersionUpdated],["ChainId",function(t){return e.JsonRpcUrl&&r.handleChainUpdated(t,e.JsonRpcUrl)}]]).forEach((function(t,r){var n=e[r];void 0!==n&&t(n)}))},this.handleDestroyed=function(e){var t;"1"===e&&(null===(t=r.listener)||void 0===t||t.resetAndReload())},this.handleAccountUpdated=function(){var e=s(a().mark((function e(t){var n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.cipher.decrypt(t);case 2:s=e.sent,null===(n=r.listener)||void 0===n||n.accountUpdated(s);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.handleMetadataUpdated=function(){var e=s(a().mark((function e(t,n){var s,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.cipher.decrypt(n);case 2:i=e.sent,null===(s=r.listener)||void 0===s||s.metadataUpdated(t,i);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this.handleWalletUsernameUpdated=function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.handleMetadataUpdated(u.WALLET_USER_NAME_KEY,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.handleAppVersionUpdated=function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.handleMetadataUpdated(u.APP_VERSION_KEY,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.handleChainUpdated=function(){var e=s(a().mark((function e(t,n){var s,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.cipher.decrypt(t);case 2:return i=e.sent,e.next=5,r.cipher.decrypt(n);case 5:o=e.sent,null===(s=r.listener)||void 0===s||s.chainUpdated(i,o);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this.session=n,this.cipher=new c.WalletLinkCipher(n.secret),this.listener=p;var g=new l.WalletLinkWebSocket("".concat(o,"/rpc"),v);g.setConnectionStateListener(function(){var e=s(a().mark((function e(t){var n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,e.t0=t,e.next=e.t0===l.ConnectionState.DISCONNECTED?4:e.t0===l.ConnectionState.CONNECTED?6:e.t0===l.ConnectionState.CONNECTING?20:21;break;case 4:return r.destroyed||(i=function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,5e3)}));case 2:r.destroyed||g.connect().catch((function(){i()}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i()),e.abrupt("break",21);case 6:return e.prev=6,e.next=9,r.authenticate();case 9:r.sendIsLinked(),r.sendGetSessionConfig(),n=!0,e.next=16;break;case 14:e.prev=14,e.t1=e.catch(6);case 16:return r.updateLastHeartbeat(),setInterval((function(){r.heartbeat()}),1e4),r.shouldFetchUnseenEventsOnConnect&&r.fetchUnseenEventsAPI(),e.abrupt("break",21);case 20:return e.abrupt("break",21);case 21:r.connected!==n&&(r.connected=n);case 22:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}()),g.setIncomingDataListener((function(e){var t;switch(e.type){case"Heartbeat":return void r.updateLastHeartbeat();case"IsLinkedOK":case"Linked":var n="IsLinkedOK"===e.type?e.linked:void 0;r.linked=n||e.onlineGuests>0;break;case"GetSessionConfigOK":case"SessionConfigUpdated":r.handleSessionMetadataUpdated(e.metadata);break;case"Event":r.handleIncomingEvent(e)}void 0!==e.id&&(null===(t=r.requestResolutions.get(e.id))||void 0===t||t(e))})),this.ws=g,this.http=new d.WalletLinkHTTP(o,n.id,n.key)}return o(e,[{key:"connect",value:function(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}},{key:"destroy",value:function(){this.destroyed=!0,this.ws.disconnect(),this.listener=void 0}},{key:"isDestroyed",get:function(){return this.destroyed}},{key:"connected",get:function(){return this._connected},set:function(e){var t;this._connected=e,e&&(null===(t=this.onceConnected)||void 0===t||t.call(this))}},{key:"setOnceConnected",value:function(e){var t=this;return new Promise((function(r){t.connected?e().then(r):t.onceConnected=function(){e().then(r),t.onceConnected=void 0}}))}},{key:"linked",get:function(){return this._linked},set:function(e){var t,r;this._linked=e,e&&(null===(t=this.onceLinked)||void 0===t||t.call(this)),null===(r=this.listener)||void 0===r||r.linkedUpdated(e)}},{key:"setOnceLinked",value:function(e){var t=this;return new Promise((function(r){t.linked?e().then(r):t.onceLinked=function(){e().then(r),t.onceLinked=void 0}}))}},{key:"handleIncomingEvent",value:function(){var e=s(a().mark((function e(t){var r,n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Event"===t.type&&"Web3Response"===t.event){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.cipher.decrypt(t.data);case 4:if(n=e.sent,"WEB3_RESPONSE"===(s=JSON.parse(n)).type){e.next=8;break}return e.abrupt("return");case 8:null===(r=this.listener)||void 0===r||r.handleWeb3ResponseMessage(s);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkUnseenEvents",value:function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connected){e.next=3;break}return this.shouldFetchUnseenEventsOnConnect=!0,e.abrupt("return");case 3:return e.next=5,new Promise((function(e){return setTimeout(e,250)}));case 5:return e.prev=5,e.next=8,this.fetchUnseenEventsAPI();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),console.error("Unable to check for unseen events",e.t0);case 13:case"end":return e.stop()}}),e,this,[[5,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchUnseenEventsAPI",value:function(){var e=s(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.shouldFetchUnseenEventsOnConnect=!1,e.next=3,this.http.fetchUnseenEvents();case 3:e.sent.forEach((function(e){return t.handleIncomingEvent(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setSessionMetadata",value:function(){var e=s(a().mark((function e(t,r){var i,o=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={type:"SetSessionConfig",id:(0,h.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:n({},t,r)},e.abrupt("return",this.setOnceConnected(s(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.makeRequest(i);case 2:if("Fail"!==(t=e.sent).type){e.next=5;break}throw new Error(t.error||"failed to set session metadata");case 5:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"publishEvent",value:function(){var e=s(a().mark((function e(t,r){var n,i,o,u=this,c=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]&&c[2],e.next=3,this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"})));case 3:return i=e.sent,o={type:"PublishEvent",id:(0,h.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:t,data:i,callWebhook:n},e.abrupt("return",this.setOnceLinked(s(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.makeRequest(o);case 2:if("Fail"!==(t=e.sent).type){e.next=5;break}throw new Error(t.error||"failed to publish event");case 5:return e.abrupt("return",t.eventId);case 6:case"end":return e.stop()}}),e)})))));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"sendData",value:function(e){this.ws.sendData(JSON.stringify(e))}},{key:"updateLastHeartbeat",value:function(){this.lastHeartbeatResponse=Date.now()}},{key:"heartbeat",value:function(){if(Date.now()-this.lastHeartbeatResponse>2e4)this.ws.disconnect();else try{this.ws.sendData("h")}catch(e){}}},{key:"makeRequest",value:function(){var e=s(a().mark((function e(t){var r,n,s,i=this,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:6e4,n=t.id,this.sendData(t),e.abrupt("return",Promise.race([new Promise((function(e,t){s=window.setTimeout((function(){t(new Error("request ".concat(n," timed out")))}),r)})),new Promise((function(e){i.requestResolutions.set(n,(function(t){clearTimeout(s),e(t),i.requestResolutions.delete(n)}))}))]));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"authenticate",value:function(){var e=s(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={type:"HostSession",id:(0,h.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},e.next=3,this.makeRequest(t);case 3:if("Fail"!==(r=e.sent).type){e.next=6;break}throw new Error(r.error||"failed to authenticate");case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendIsLinked",value:function(){var e={type:"IsLinked",id:(0,h.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(e)}},{key:"sendGetSessionConfig",value:function(){var e={type:"GetSessionConfig",id:(0,h.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(e)}}]),e}();t.WalletLinkConnection=p},50226:function(e,t,r){"use strict";var n=r(17061).default,a=r(17156).default,s=r(56690).default,i=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WalletLinkHTTP=void 0;var o=function(){function e(t,r,n){s(this,e),this.linkAPIUrl=t,this.sessionId=r;var a="".concat(r,":").concat(n);this.auth="Basic ".concat(btoa(a))}return i(e,[{key:"markUnseenEventsAsSeen",value:function(){var e=a(n().mark((function e(t){var r=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map((function(e){return fetch("".concat(r.linkAPIUrl,"/events/").concat(e.eventId,"/seen"),{method:"POST",headers:{Authorization:r.auth}})}))).catch((function(e){return console.error("Unabled to mark event as failed:",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchUnseenEvents",value:function(){var e=a(n().mark((function e(){var t,r,a,s,i,o,u=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.linkAPIUrl,"/events?unseen=true"),{headers:{Authorization:this.auth}});case 2:if(!(r=e.sent).ok){e.next=14;break}return e.next=6,r.json();case 6:if(a=e.sent,s=a.events,!(i=a.error)){e.next=11;break}throw new Error("Check unseen events failed: ".concat(i));case 11:return o=null!==(t=null===s||void 0===s?void 0:s.filter((function(e){return"Web3Response"===e.event})).map((function(e){return{type:"Event",sessionId:u.sessionId,eventId:e.id,event:e.event,data:e.data}})))&&void 0!==t?t:[],this.markUnseenEventsAsSeen(o),e.abrupt("return",o);case 14:throw new Error("Check unseen events failed: ".concat(r.status));case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();t.WalletLinkHTTP=o},45676:function(e,t,r){"use strict";var n,a=r(17061).default,s=r(861).default,i=r(17156).default,o=r(56690).default,u=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WalletLinkWebSocket=t.ConnectionState=void 0,function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"}(n||(t.ConnectionState=n={}));var c=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WebSocket;o(this,e),this.WebSocketClass=r,this.webSocket=null,this.pendingData=[],this.url=t.replace(/^http/,"ws")}return u(e,[{key:"setConnectionStateListener",value:function(e){this.connectionStateListener=e}},{key:"setIncomingDataListener",value:function(e){this.incomingDataListener=e}},{key:"connect",value:function(){var e=i(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.webSocket){e.next=2;break}throw new Error("webSocket object is not null");case 2:return e.abrupt("return",new Promise((function(e,r){var a,i;try{t.webSocket=i=new t.WebSocketClass(t.url)}catch(o){return void r(o)}null===(a=t.connectionStateListener)||void 0===a||a.call(t,n.CONNECTING),i.onclose=function(e){var a;t.clearWebSocket(),r(new Error("websocket error ".concat(e.code,": ").concat(e.reason))),null===(a=t.connectionStateListener)||void 0===a||a.call(t,n.DISCONNECTED)},i.onopen=function(r){var a;(e(),null===(a=t.connectionStateListener)||void 0===a||a.call(t,n.CONNECTED),t.pendingData.length>0)&&(s(t.pendingData).forEach((function(e){return t.sendData(e)})),t.pendingData=[])},i.onmessage=function(e){var r,n;if("h"===e.data)null===(r=t.incomingDataListener)||void 0===r||r.call(t,{type:"Heartbeat"});else try{var a=JSON.parse(e.data);null===(n=t.incomingDataListener)||void 0===n||n.call(t,a)}catch(s){}}})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e,t=this.webSocket;if(t){this.clearWebSocket(),null===(e=this.connectionStateListener)||void 0===e||e.call(this,n.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{t.close()}catch(r){}}}},{key:"sendData",value:function(e){var t=this.webSocket;if(!t)return this.pendingData.push(e),void this.connect();t.send(e)}},{key:"clearWebSocket",value:function(){var e=this.webSocket;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}]),e}();t.WalletLinkWebSocket=c},63127:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APP_VERSION_KEY=t.LOCAL_STORAGE_ADDRESSES_KEY=t.WALLET_USER_NAME_KEY=void 0,t.WALLET_USER_NAME_KEY="walletUsername",t.LOCAL_STORAGE_ADDRESSES_KEY="Addresses",t.APP_VERSION_KEY="AppVersion"},14875:function(e,t,r){"use strict";var n=r(56690).default,a=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WalletLinkSession=void 0;var s=r(85730),i=r(41462),o="session:id",u="session:secret",c="session:linked",d=function(){function e(t,r,a,o){n(this,e),this._storage=t,this._id=r||(0,i.randomBytesHex)(16),this._secret=a||(0,i.randomBytesHex)(32),this._key=(new s.sha256).update("".concat(this._id,", ").concat(this._secret," WalletLink")).digest("hex"),this._linked=!!o}return a(e,[{key:"id",get:function(){return this._id}},{key:"secret",get:function(){return this._secret}},{key:"key",get:function(){return this._key}},{key:"linked",get:function(){return this._linked},set:function(e){this._linked=e,this.persistLinked()}},{key:"save",value:function(){return this._storage.setItem(o,this._id),this._storage.setItem(u,this._secret),this.persistLinked(),this}},{key:"persistLinked",value:function(){this._storage.setItem(c,this._linked?"1":"0")}}],[{key:"load",value:function(t){var r=t.getItem(o),n=t.getItem(c),a=t.getItem(u);return r&&a?new e(t,r,a,"1"===n):null}}]),e}();t.WalletLinkSession=d},55478:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isErrorResponse=void 0,t.isErrorResponse=function(e){return void 0!==e.errorMessage}},47291:function(e,t,r){"use strict";var n=r(56690).default,a=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WLMobileRelayUI=void 0;var s=r(32417),i=r(86166),o=r(53530),u=function(){function e(){n(this,e),this.attached=!1,this.redirectDialog=new s.RedirectDialog}return a(e,[{key:"attach",value:function(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}},{key:"redirectToCoinbaseWallet",value:function(e){var t=new URL(o.CBW_MOBILE_DEEPLINK_URL);t.searchParams.append("redirect_url",(0,i.getLocation)().href),e&&t.searchParams.append("wl_url",e);var r=document.createElement("a");r.target="cbw-opener",r.href=t.href,r.rel="noreferrer noopener",r.click()}},{key:"openCoinbaseWalletDeeplink",value:function(e){var t=this;this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:function(){t.redirectToCoinbaseWallet(e)}}),setTimeout((function(){t.redirectToCoinbaseWallet(e)}),99)}},{key:"showConnecting",value:function(e){var t=this;return function(){t.redirectDialog.clear()}}}]),e}();t.WLMobileRelayUI=u},17612:function(e,t,r){"use strict";var n=r(56690).default,a=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WalletLinkRelayUI=void 0;var s=r(33773),i=r(38910),o=function(){function e(){n(this,e),this.attached=!1,this.snackbar=new i.Snackbar}return a(e,[{key:"attach",value:function(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");var e=document.documentElement,t=document.createElement("div");t.className="-cbwsdk-css-reset",e.appendChild(t),this.snackbar.attach(t),this.attached=!0,(0,s.injectCssReset)()}},{key:"showConnecting",value:function(e){var t;return t=e.isUnlinkedErrorState?{autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:{message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(t)}}]),e}();t.WalletLinkRelayUI=o},72924:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}"},32417:function(e,t,r){"use strict";var n=r(56690).default,a=r(89728).default,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RedirectDialog=void 0;var i=s(r(28182)),o=r(58620),u=r(33773),c=r(38910),d=r(86166),l=s(r(72924)),h=function(){function e(){n(this,e),this.root=null,this.darkMode=(0,d.isDarkMode)()}return a(e,[{key:"attach",value:function(){var e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),(0,u.injectCssReset)()}},{key:"present",value:function(e){this.render(e)}},{key:"clear",value:function(){this.render(null)}},{key:"render",value:function(e){var t=this;this.root&&((0,o.render)(null,this.root),e&&(0,o.render)((0,o.h)(p,Object.assign({},e,{onDismiss:function(){t.clear()},darkMode:this.darkMode})),this.root))}}]),e}();t.RedirectDialog=h;var p=function(e){var t=e.title,r=e.buttonText,n=e.darkMode,a=e.onButtonClick,s=e.onDismiss,u=n?"dark":"light";return(0,o.h)(c.SnackbarContainer,{darkMode:n},(0,o.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,o.h)("style",null,l.default),(0,o.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:s}),(0,o.h)("div",{class:(0,i.default)("-cbwsdk-redirect-dialog-box",u)},(0,o.h)("p",null,t),(0,o.h)("button",{onClick:a},r))))}},60382:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}"},38910:function(e,t,r){"use strict";var n=r(27424).default,a=r(56690).default,s=r(89728).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;var o=i(r(28182)),u=r(58620),c=r(31374),d=r(86166),l=i(r(60382)),h=function(){function e(){a(this,e),this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=(0,d.isDarkMode)()}return s(e,[{key:"attach",value:function(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}},{key:"presentItem",value:function(e){var t=this,r=this.nextItemKey++;return this.items.set(r,e),this.render(),function(){t.items.delete(r),t.render()}}},{key:"clear",value:function(){this.items.clear(),this.render()}},{key:"render",value:function(){this.root&&(0,u.render)((0,u.h)("div",null,(0,u.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map((function(e){var r=n(e,2),a=r[0],s=r[1];return(0,u.h)(t.SnackbarInstance,Object.assign({},s,{key:a}))})))),this.root)}}]),e}();t.Snackbar=h;t.SnackbarContainer=function(e){return(0,u.h)("div",{class:(0,o.default)("-cbwsdk-snackbar-container")},(0,u.h)("style",null,l.default),(0,u.h)("div",{class:"-cbwsdk-snackbar"},e.children))};t.SnackbarInstance=function(e){var t=e.autoExpand,r=e.message,a=e.menuItems,s=(0,c.useState)(!0),i=n(s,2),d=i[0],l=i[1],h=(0,c.useState)(null!==t&&void 0!==t&&t),p=n(h,2),f=p[0],v=p[1];(0,c.useEffect)((function(){var e=[window.setTimeout((function(){l(!1)}),1),window.setTimeout((function(){v(!0)}),1e4)];return function(){e.forEach(window.clearTimeout)}}));return(0,u.h)("div",{class:(0,o.default)("-cbwsdk-snackbar-instance",d&&"-cbwsdk-snackbar-instance-hidden",f&&"-cbwsdk-snackbar-instance-expanded")},(0,u.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:function(){v(!f)}},(0,u.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,u.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},r),(0,u.h)("div",{class:"-gear-container"},!f&&(0,u.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,u.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,u.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=",class:"-gear-icon",title:"Expand"}))),a&&a.length>0&&(0,u.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},a.map((function(e,t){return(0,u.h)("div",{class:(0,o.default)("-cbwsdk-snackbar-instance-menu-item",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:e.onClick,key:t},(0,u.h)("svg",{width:e.svgWidth,height:e.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,u.h)("path",{"fill-rule":e.defaultFillRule,"clip-rule":e.defaultClipRule,d:e.path,fill:"#AAAAAA"})),(0,u.h)("span",{class:(0,o.default)("-cbwsdk-snackbar-instance-menu-item-info",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},e.info))}))))}},41200:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}'},33773:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.injectCssReset=void 0;var a=n(r(41200));t.injectCssReset=function(){var e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(a.default)),document.documentElement.appendChild(e)}},86166:function(e,t,r){"use strict";var n=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.isDarkMode=t.isMobileWeb=t.getLocation=t.createQrUrl=void 0,t.createQrUrl=function(e,t,r,a,s,i){var o,u=new URLSearchParams((o={},n(o,a?"parent-id":"id",e),n(o,"secret",t),n(o,"server",r),n(o,"v",s),n(o,"chainId",i.toString()),o)).toString();return"".concat(r,"/#/link?").concat(u)},t.getLocation=function(){try{return function(){try{return null!==window.frameElement}catch(e){return!1}}()&&window.top?window.top.location:window.location}catch(e){return window.location}},t.isMobileWeb=function(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(null===(e=null===window||void 0===window?void 0:window.navigator)||void 0===e?void 0:e.userAgent)},t.isDarkMode=function(){var e,t;return null!==(t=null===(e=null===window||void 0===window?void 0:window.matchMedia)||void 0===e?void 0:e.call(window,"(prefers-color-scheme: dark)").matches)&&void 0!==t&&t}},17631:function(e,t,r){"use strict";var n=r(56690).default,a=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ScopedLocalStorage=void 0;var s=function(){function e(t,r){n(this,e),this.scope=t,this.module=r}return a(e,[{key:"setItem",value:function(e,t){localStorage.setItem(this.scopedKey(e),t)}},{key:"getItem",value:function(e){return localStorage.getItem(this.scopedKey(e))}},{key:"removeItem",value:function(e){localStorage.removeItem(this.scopedKey(e))}},{key:"clear",value:function(){for(var e=this.scopedKey(""),t=[],r=0;r<localStorage.length;r++){var n=localStorage.key(r);"string"===typeof n&&n.startsWith(e)&&t.push(n)}t.forEach((function(e){return localStorage.removeItem(e)}))}},{key:"scopedKey",value:function(e){return"-".concat(this.scope).concat(this.module?":".concat(this.module):"",":").concat(e)}}],[{key:"clearAll",value:function(){new e("CBWSDK").clear(),new e("walletlink").clear()}}]),e}();t.ScopedLocalStorage=s},87682:function(e,t,r){"use strict";var n=r(17061).default,a=r(17156).default;Object.defineProperty(t,"__esModule",{value:!0}),t.decryptContent=t.encryptContent=t.importKeyFromHexString=t.exportKeyToHexString=t.decrypt=t.encrypt=t.deriveSharedSecret=t.generateKeyPair=void 0;var s=r(41462);function i(){return(i=a(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"]));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return(o=a(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",crypto.subtle.deriveKey({name:"ECDH",public:r},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"]));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,t){return c.apply(this,arguments)}function c(){return(c=a(n().mark((function e(t,r){var a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=crypto.getRandomValues(new Uint8Array(12)),e.next=3,crypto.subtle.encrypt({name:"AES-GCM",iv:a},t,(new TextEncoder).encode(r));case 3:return s=e.sent,e.abrupt("return",{iv:a,cipherText:s});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return l.apply(this,arguments)}function l(){return(l=a(n().mark((function e(t,r){var a,s,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.iv,s=r.cipherText,e.next=3,crypto.subtle.decrypt({name:"AES-GCM",iv:a},t,s);case 3:return i=e.sent,e.abrupt("return",(new TextDecoder).decode(i));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){switch(e){case"public":return"spki";case"private":return"pkcs8"}}function p(){return(p=a(n().mark((function e(t,r){var a,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h(t),e.next=3,crypto.subtle.exportKey(a,r);case 3:return i=e.sent,e.abrupt("return",(0,s.uint8ArrayToHex)(new Uint8Array(i)));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=a(n().mark((function e(t,r){var a,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h(t),i=(0,s.hexStringToUint8Array)(r).buffer,e.next=4,crypto.subtle.importKey(a,i,{name:"ECDH",namedCurve:"P-256"},!0,"private"===t?["deriveKey"]:[]);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=a(n().mark((function e(t,r){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify(t,(function(e,t){if(!(t instanceof Error))return t;var r=t;return Object.assign(Object.assign({},r.code?{code:r.code}:{}),{message:r.message})})),e.abrupt("return",u(r,a));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=a(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,d(r,t);case 3:return e.t1=e.sent,e.abrupt("return",e.t0.parse.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.generateKeyPair=function(){return i.apply(this,arguments)},t.deriveSharedSecret=function(e,t){return o.apply(this,arguments)},t.encrypt=u,t.decrypt=d,t.exportKeyToHexString=function(e,t){return p.apply(this,arguments)},t.importKeyFromHexString=function(e,t){return f.apply(this,arguments)},t.encryptContent=function(e,t){return v.apply(this,arguments)},t.decryptContent=function(e,t){return g.apply(this,arguments)}},52344:function(e,t,r){"use strict";var n=r(17061).default,a=r(17156).default;Object.defineProperty(t,"__esModule",{value:!0}),t.checkErrorForInvalidRequestArgs=t.getCoinbaseInjectedProvider=t.getCoinbaseInjectedSigner=t.fetchRPCRequest=void 0;var s=r(97173),i=r(77344);function o(){return(o=a(n().mark((function e(t,r){var a,o,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.rpcUrl){e.next=2;break}throw i.standardErrors.rpc.internal("No RPC URL set for chain");case 2:return a=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),e.next=5,window.fetch(r.rpcUrl,{method:"POST",body:JSON.stringify(a),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":s.LIB_VERSION}});case 5:return o=e.sent,e.next=8,o.json();case 8:return u=e.sent,e.abrupt("return",u.result);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return globalThis.coinbaseWalletSigner}t.fetchRPCRequest=function(e,t){return o.apply(this,arguments)},t.getCoinbaseInjectedSigner=u,t.getCoinbaseInjectedProvider=function(e){var t,r=e.metadata;if("smartWalletOnly"!==e.preference.options){if(u())return;var n=globalThis.coinbaseWalletExtension;if(n){var a=r.appName,s=r.appLogoUrl,i=r.appChainIds;return null===(t=n.setAppInfo)||void 0===t||t.call(n,a,s,i),n}}var o=function(){var e,t;try{var r=globalThis;return null!==(e=r.ethereum)&&void 0!==e?e:null===(t=r.top)||void 0===t?void 0:t.ethereum}catch(n){return}}();if(null===o||void 0===o?void 0:o.isCoinbaseBrowser)return o},t.checkErrorForInvalidRequestArgs=function(e){if(!e||"object"!==typeof e||Array.isArray(e))return i.standardErrors.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:e});var t=e.method,r=e.params;return"string"!==typeof t||0===t.length?i.standardErrors.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:e}):void 0===r||Array.isArray(r)||"object"===typeof r&&null!==r?void 0:i.standardErrors.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:e})}},9891:function(e,t,r){var n=r(48502);function a(e){return e.startsWith("int[")?"int256"+e.slice(3):"int"===e?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):"uint"===e?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):"ufixed"===e?"ufixed128x128":e}function s(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function i(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function o(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function u(e){var t=typeof e;if("string"===t||"number"===t)return BigInt(e);if("bigint"===t)return e;throw new Error("Argument is not a number")}function c(e,t){var r,a,d,l;if("address"===e)return c("uint160",u(t));if("bool"===e)return c("uint8",t?1:0);if("string"===e)return c("bytes",new Buffer(t,"utf8"));if(function(e){return e.lastIndexOf("]")===e.length-1}(e)){if("undefined"===typeof t.length)throw new Error("Not an array?");if("dynamic"!==(r=o(e))&&0!==r&&t.length>r)throw new Error("Elements exceed array size: "+r);for(l in d=[],e=e.slice(0,e.lastIndexOf("[")),"string"===typeof t&&(t=JSON.parse(t)),t)d.push(c(e,t[l]));if("dynamic"===r){var h=c("uint256",t.length);d.unshift(h)}return Buffer.concat(d)}if("bytes"===e)return t=new Buffer(t),d=Buffer.concat([c("uint256",t.length),t]),t.length%32!==0&&(d=Buffer.concat([d,n.zeros(32-t.length%32)])),d;if(e.startsWith("bytes")){if((r=s(e))<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return n.setLengthRight(t,32)}if(e.startsWith("uint")){if((r=s(e))%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);a=u(t);var p=n.bitLengthFromBigInt(a);if(p>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+p);if(a<0)throw new Error("Supplied uint is negative");return n.bufferBEFromBigInt(a,32)}if(e.startsWith("int")){if((r=s(e))%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);a=u(t);var f=n.bitLengthFromBigInt(a);if(f>r)throw new Error("Supplied int exceeds width: "+r+" vs "+f);var v=n.twosFromBigInt(a,256);return n.bufferBEFromBigInt(v,32)}if(e.startsWith("ufixed")){if(r=i(e),(a=u(t))<0)throw new Error("Supplied ufixed is negative");return c("uint256",a*Math.pow(BigInt(2),BigInt(r[1])))}if(e.startsWith("fixed"))return r=i(e),c("int256",u(t)*Math.pow(BigInt(2),BigInt(r[1])));throw new Error("Unsupported or invalid type: "+e)}function d(e){return"string"===e||"bytes"===e||"dynamic"===o(e)}function l(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r,i,o=[],c=0;c<e.length;c++){var d=a(e[c]),l=t[c];if("bytes"===d)o.push(l);else if("string"===d)o.push(new Buffer(l,"utf8"));else if("bool"===d)o.push(new Buffer(l?"01":"00","hex"));else if("address"===d)o.push(n.setLength(l,20));else if(d.startsWith("bytes")){if((r=s(d))<1||r>32)throw new Error("Invalid bytes<N> width: "+r);o.push(n.setLengthRight(l,r))}else if(d.startsWith("uint")){if((r=s(d))%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);i=u(l);var h=n.bitLengthFromBigInt(i);if(h>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+h);o.push(n.bufferBEFromBigInt(i,r/8))}else{if(!d.startsWith("int"))throw new Error("Unsupported or invalid type: "+d);if((r=s(d))%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);i=u(l);var p=n.bitLengthFromBigInt(i);if(p>r)throw new Error("Supplied int exceeds width: "+r+" vs "+p);var f=n.twosFromBigInt(i,r);o.push(n.bufferBEFromBigInt(f,r/8))}}return Buffer.concat(o)}e.exports={rawEncode:function(e,t){var r=[],n=[],s=32*e.length;for(var i in e){var o=a(e[i]),u=c(o,t[i]);d(o)?(r.push(c("uint256",s)),n.push(u),s+=u.length):r.push(u)}return Buffer.concat(r.concat(n))},solidityPack:l,soliditySHA3:function(e,t){return n.keccak(l(e,t))}}},59231:function(e,t,r){var n=r(74704).default,a=r(27424).default,s=r(48502),i=r(9891),o={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},u={encodeData:function(e,t,r){var o=this,u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=["bytes32"],d=[this.hashType(e,r)];if(u){var l,h=function e(t,n,c){if(void 0!==r[n])return["bytes32",null==c?"0x0000000000000000000000000000000000000000000000000000000000000000":s.keccak(o.encodeData(n,c,r,u))];if(void 0===c)throw new Error("missing value for field ".concat(t," of type ").concat(n));if("bytes"===n)return["bytes32",s.keccak(c)];if("string"===n)return"string"===typeof c&&(c=Buffer.from(c,"utf8")),["bytes32",s.keccak(c)];if(n.lastIndexOf("]")===n.length-1){var d=n.slice(0,n.lastIndexOf("[")),l=c.map((function(r){return e(t,d,r)}));return["bytes32",s.keccak(i.rawEncode(l.map((function(e){return a(e,1)[0]})),l.map((function(e){return a(e,2)[1]}))))]}return[n,c]},p=n(r[e]);try{for(p.s();!(l=p.n()).done;){var f=l.value,v=h(f.name,f.type,t[f.name]),g=a(v,2),m=g[0],y=g[1];c.push(m),d.push(y)}}catch(E){p.e(E)}finally{p.f()}}else{var b,w=n(r[e]);try{for(w.s();!(b=w.n()).done;){var k=b.value,x=t[k.name];if(void 0!==x)if("bytes"===k.type)c.push("bytes32"),x=s.keccak(x),d.push(x);else if("string"===k.type)c.push("bytes32"),"string"===typeof x&&(x=Buffer.from(x,"utf8")),x=s.keccak(x),d.push(x);else if(void 0!==r[k.type])c.push("bytes32"),x=s.keccak(this.encodeData(k.type,x,r,u)),d.push(x);else{if(k.type.lastIndexOf("]")===k.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");c.push(k.type),d.push(x)}}}catch(E){w.e(E)}finally{w.f()}}return i.rawEncode(c,d)},encodeType:function(e,t){var r="",a=this.findTypeDependencies(e,t).filter((function(t){return t!==e}));a=[e].concat(a.sort());var s,i=n(a);try{for(i.s();!(s=i.n()).done;){var o=s.value;if(!t[o])throw new Error("No type definition specified: "+o);r+=o+"("+t[o].map((function(e){var t=e.name;return e.type+" "+t})).join(",")+")"}}catch(u){i.e(u)}finally{i.f()}return r},findTypeDependencies:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e=e.match(/^\w*/)[0],r.includes(e)||void 0===t[e])return r;r.push(e);var a,s=n(t[e]);try{for(s.s();!(a=s.n()).done;){var i,o=a.value,u=n(this.findTypeDependencies(o.type,t,r));try{for(u.s();!(i=u.n()).done;){var c=i.value;!r.includes(c)&&r.push(c)}}catch(d){u.e(d)}finally{u.f()}}}catch(d){s.e(d)}finally{s.f()}return r},hashStruct:function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return s.keccak(this.encodeData(e,t,r,n))},hashType:function(e,t){return s.keccak(this.encodeType(e,t))},sanitizeData:function(e){var t={};for(var r in o.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.sanitizeData(e),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),"EIP712Domain"!==r.primaryType&&n.push(this.hashStruct(r.primaryType,r.message,r.types,t)),s.keccak(Buffer.concat(n))}};e.exports={TYPED_MESSAGE_SCHEMA:o,TypedDataUtils:u,hashForSignTypedDataLegacy:function(e){return function(e){var t=new Error("Expect argument to be non-empty array");if("object"!==typeof e||!e.length)throw t;var r=e.map((function(e){return"bytes"===e.type?s.toBuffer(e.value):e.value})),n=e.map((function(e){return e.type})),a=e.map((function(e){if(!e.name)throw t;return e.type+" "+e.name}));return i.soliditySHA3(["bytes32","bytes32"],[i.soliditySHA3(new Array(e.length).fill("string"),a),i.soliditySHA3(n,r)])}(e.data)},hashForSignTypedData_v3:function(e){return u.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return u.hash(e.data)}}},48502:function(e,t,r){var n=r(51321);function a(e){return Buffer.allocUnsafe(e).fill(0)}function s(e,t){var r=e.toString(16);r.length%2!==0&&(r="0"+r);for(var n=r.match(/.{1,2}/g).map((function(e){return parseInt(e,16)}));n.length<t;)n.unshift(0);return Buffer.from(n)}function i(e,t,r){var n=a(t);return e=o(e),r?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function o(e){if(!Buffer.isBuffer(e))if(Array.isArray(e))e=Buffer.from(e);else if("string"===typeof e)e=u(e)?Buffer.from((t=c(e)).length%2?"0"+t:t,"hex"):Buffer.from(e);else if("number"===typeof e)e=intToBuffer(e);else if(null===e||void 0===e)e=Buffer.allocUnsafe(0);else if("bigint"===typeof e)e=s(e);else{if(!e.toArray)throw new Error("invalid type");e=Buffer.from(e.toArray())}var t;return e}function u(e){return"string"===typeof e&&e.match(/^0x[0-9A-Fa-f]*$/)}function c(e){return"string"===typeof e&&e.startsWith("0x")?e.slice(2):e}e.exports={zeros:a,setLength:i,setLengthRight:function(e,t){return i(e,t,!0)},isHexString:u,stripHexPrefix:c,toBuffer:o,bufferToHex:function(e){return"0x"+(e=o(e)).toString("hex")},keccak:function(e,t){return e=o(e),t||(t=256),n("keccak"+t).update(e).digest()},bitLengthFromBigInt:function(e){return e.toString(2).length},bufferBEFromBigInt:s,twosFromBigInt:function(e,t){var r;return r=e<0n?(~e&(1n<<BigInt(t))-1n)+1n:e,r&=(1n<<BigInt(t))-1n}}},97173:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LIB_VERSION=void 0,t.LIB_VERSION="4.0.4"}}]);
//# sourceMappingURL=7695.a4e15e28.chunk.js.map